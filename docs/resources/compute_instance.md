---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "t1_compute_instance Resource - terraform-provider-t1"
subcategory: ""
description: |-
  Manages a compute VM instance resource within T1.Cloud Compute.
---

# t1_compute_instance (Resource)

Manages a compute VM instance resource within T1.Cloud Compute.

## Example Usage

```terraform
resource "t1_compute_instance" "vm" {
  boot_volume = {
    size                  = 4
    delete_on_termination = false
  }
  flavor = {
    cores  = 1
    memory = 2
  }
  image = {
    distro  = "ubuntu"
    version = "20.04"
  }
  ssh_keys = [
    t1_compute_ssh_key.ssh.id,
  ]
  network_interface = {
    fixed_ip  = "10.128.0.13"
    subnet_id = t1_vpc_subnet.subnet1.id,
    security_group_ids = [
      t1_vpc_security_group.foo.id,
    ]
  }
}

resource "t1_compute_ssh_key" "ssh" {
  name  = "foo"
  login = "root"
  publick_keys = [
    "my-public-key",
  ]
}

resource "t1_vpc_security_group" "sec_group" {
  name = "My security group"
}

resource "t1_vpc_network" "foo" {
  name = "My network"
}

resource "t1_vpc_subnet" "subnet1" {
  name       = "foo-subnet"
  region     = "ru-central1"
  cidr       = "10.128.0.1/24"
  network_id = t1_vpc_network.foo.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `boot_volume` (Attributes) The boot volume config for VM instance. (see [below for nested schema](#nestedatt--boot_volume))
- `flavor` (Attributes) Desired cores and memory configuration for VM instance. Changing this resizes the existing VM. To perform resize required switch VM `state` to `off` (see [below for nested schema](#nestedatt--flavor))
- `image` (Attributes) Desired image for VM instance. Changing this recreates a VM. (see [below for nested schema](#nestedatt--image))
- `network_interface` (Attributes) Configuration of network interface attached to VM instance. (see [below for nested schema](#nestedatt--network_interface))
- `ssh_keys` (List of String) List of ssh records ID, which public keys will be granted access to VM instance.

### Optional

- `description` (String) An optional description of the VM instance.
- `name` (String) A name for the VM instance. Changing this creates a new VM.
- `region` (String) The region where the VM will be placed.
- `state` (String) Allows to turn off or turn on the VM.
- `zone` (String) The availability zone of region where the VM will be created.

### Read-Only

- `id` (String) The order ID of this resource.

<a id="nestedatt--boot_volume"></a>
### Nested Schema for `boot_volume`

Required:

- `size` (Number) Size of the persistent boot volume (specified in GB). `size` value must be greater than size of source image (at least 1 Gb).

Optional:

- `delete_on_termination` (Boolean) Delete the volume alongside destruction of the instance. Default to `true`. Changing this creates a new VM.
- `disk_type` (String) Type of volume boot disk (e.g. `Light`, `Basic`). Default to `Light`. Changing this creates a new VM.

Read-Only:

- `item_id` (String) ID of the `boot_volume` item


<a id="nestedatt--flavor"></a>
### Nested Schema for `flavor`

Required:

- `cores` (Number) Quantity of virtual CPUs.
- `memory` (Number) Quantity of RAM (specified in GB).

Read-Only:

- `id` (String) ID of specified flavor.
- `name` (String) Name of the flavor.


<a id="nestedatt--image"></a>
### Nested Schema for `image`

Required:

- `distro` (String) Name of OS distro(ubuntu, windows, altlinux, astra, etc.).
- `version` (String) Verison of distro image.

Read-Only:

- `id` (String) ID of specified image.
- `name` (String) Full image title.
- `size` (Number) Image size in bytes.


<a id="nestedatt--network_interface"></a>
### Nested Schema for `network_interface`

Required:

- `subnet_id` (String) ID of the subnet to attach this interface to.

Optional:

- `fixed_ip` (String) When you enter an IP address, it is checked to see if it is busy and whether it belongs to the selected subnet. If empty, the address will be automatically assigned from the specified subnet.
- `security_group_ids` (List of String) Security group IDs for network interface.

Read-Only:

- `id` (String) ID of `nic` item attached to VM instance
